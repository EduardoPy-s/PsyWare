<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="psyware.controller.RelatoriosController"
      spacing="25" alignment="CENTER" style="-fx-background-color: #f8f9fa; -fx-padding: 30;">

    <Label text="Relatórios - PsyWare" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

    <GridPane hgap="20" vgap="20" alignment="CENTER">
        <columnConstraints>
            <ColumnConstraints hgrow="ALWAYS"/>
            <ColumnConstraints hgrow="ALWAYS"/>
        </columnConstraints>
        <rowConstraints>
            <RowConstraints vgrow="ALWAYS"/>
            <RowConstraints vgrow="ALWAYS"/>
        </rowConstraints>


        <VBox alignment="CENTER" GridPane.rowIndex="0" GridPane.columnIndex="0"
              style="-fx-background-color: #e3f2fd; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(gaussian, #00000022, 10, 0, 0, 5);">
            <Label text="Valor Total do Estoque" style="-fx-font-size: 18px; -fx-text-fill: #1565c0;"/>
            <Label fx:id="lblValorTotal" text="R$ 0,00" style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #0d47a1;"/>
        </VBox>


        <VBox alignment="CENTER" GridPane.rowIndex="0" GridPane.columnIndex="1"
              style="-fx-background-color: #ffebee; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(gaussian, #00000022, 10, 0, 0, 5);">
            <Label text="Produtos com Estoque Baixo (≤ 10)" style="-fx-font-size: 18px; -fx-text-fill: #c62828;"/>
            <Label fx:id="lblBaixoEstoque" text="0" style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #b71c1c;"/>
            <Button text="Ver Produtos em Baixa" onAction="#abrirProdutosBaixa"
                    style="-fx-background-color: #e53935; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 10 20; -fx-background-radius: 8; -fx-cursor: hand;"/>
        </VBox>


        <VBox alignment="CENTER" GridPane.rowIndex="1" GridPane.columnIndex="0"
              style="-fx-background-color: #e8f5e8; -fx-background-radius: 15; -fx-padding: 25; -fx-effect: dropshadow(gaussian, #00000022, 10, 0, 0, 5);">
            <Label text="Total de Produtos Cadastrados" style="-fx-font-size: 18px; -fx-text-fill: #2e7d32;"/>
            <Label fx:id="lblTotalProdutos" text="0" style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #1b5e20;"/>
        </VBox>


        <VBox alignment="CENTER" GridPane.rowIndex="1" GridPane.columnIndex="1"
              style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 20; -fx-effect: dropshadow(gaussian, #00000022, 10, 0, 0, 5);">
            <Label text="Distribuição por Categoria" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <PieChart fx:id="graficoPizza" prefWidth="400" prefHeight="300" animated="true"/>
        </VBox>
    </GridPane>

    <Button text="Fechar" onAction="#fechar"
            style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 12 40; -fx-background-radius: 10;"/>
</VBox>